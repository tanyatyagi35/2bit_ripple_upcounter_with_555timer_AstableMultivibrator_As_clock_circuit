EESchema Schematic File Version 2
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:power
LIBS:eSim_Plot
LIBS:transistors
LIBS:conn
LIBS:eSim_User
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:eSim_Analog
LIBS:eSim_Devices
LIBS:eSim_Digital
LIBS:eSim_Hybrid
LIBS:eSim_Miscellaneous
LIBS:eSim_Power
LIBS:eSim_Sources
LIBS:eSim_Subckt
LIBS:eSim_Nghdl
LIBS:eSim_Ngveri
LIBS:eSim_SKY130
LIBS:eSim_SKY130_Subckts
LIBS:ripplecounter_555timer_tanya-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L tanya_ripple_upcounter2 U5
U 1 1 63410A55
P 6300 4500
F 0 "U5" H 9150 6300 60  0000 C CNN
F 1 "tanya_ripple_upcounter2" H 9150 6500 60  0000 C CNN
F 2 "" H 9150 6450 60  0000 C CNN
F 3 "" H 9150 6450 60  0000 C CNN
	1    6300 4500
	1    0    0    -1  
$EndComp
$Comp
L dac_bridge_2 U4
U 1 1 63410CE5
P 10300 2650
F 0 "U4" H 10300 2650 60  0000 C CNN
F 1 "dac_bridge_2" H 10350 2800 60  0000 C CNN
F 2 "" H 10300 2650 60  0000 C CNN
F 3 "" H 10300 2650 60  0000 C CNN
	1    10300 2650
	1    0    0    -1  
$EndComp
$Comp
L avsd_opamp X1
U 1 1 63410E5B
P 4600 2100
F 0 "X1" H 4600 2100 60  0000 C CNN
F 1 "avsd_opamp" H 4650 2000 60  0000 C CNN
F 2 "" H 4600 2100 60  0001 C CNN
F 3 "" H 4600 2100 60  0001 C CNN
	1    4600 2100
	1    0    0    -1  
$EndComp
$Comp
L avsd_opamp X2
U 1 1 63410E98
P 4600 3300
F 0 "X2" H 4600 3300 60  0000 C CNN
F 1 "avsd_opamp" H 4650 3200 60  0000 C CNN
F 2 "" H 4600 3300 60  0001 C CNN
F 3 "" H 4600 3300 60  0001 C CNN
	1    4600 3300
	1    0    0    -1  
$EndComp
$Comp
L eSim_R R1
U 1 1 63410EF0
P 3100 1650
F 0 "R1" H 3150 1780 50  0000 C CNN
F 1 "5k" H 3150 1600 50  0000 C CNN
F 2 "" H 3150 1630 30  0000 C CNN
F 3 "" V 3150 1700 30  0000 C CNN
	1    3100 1650
	0    1    1    0   
$EndComp
$Comp
L eSim_R R2
U 1 1 63410FC9
P 3100 2750
F 0 "R2" H 3150 2880 50  0000 C CNN
F 1 "5k" H 3150 2700 50  0000 C CNN
F 2 "" H 3150 2730 30  0000 C CNN
F 3 "" V 3150 2800 30  0000 C CNN
	1    3100 2750
	0    1    1    0   
$EndComp
$Comp
L eSim_R R3
U 1 1 63411064
P 3100 3700
F 0 "R3" H 3150 3830 50  0000 C CNN
F 1 "5k" H 3150 3650 50  0000 C CNN
F 2 "" H 3150 3680 30  0000 C CNN
F 3 "" V 3150 3750 30  0000 C CNN
	1    3100 3700
	0    1    1    0   
$EndComp
$Comp
L eSim_R R5
U 1 1 634110BB
P 1600 1650
F 0 "R5" H 1650 1780 50  0000 C CNN
F 1 "1k" H 1650 1600 50  0000 C CNN
F 2 "" H 1650 1630 30  0000 C CNN
F 3 "" V 1650 1700 30  0000 C CNN
	1    1600 1650
	0    1    1    0   
$EndComp
$Comp
L eSim_R R4
U 1 1 6341113A
P 1600 2750
F 0 "R4" H 1650 2880 50  0000 C CNN
F 1 "2k" H 1650 2700 50  0000 C CNN
F 2 "" H 1650 2730 30  0000 C CNN
F 3 "" V 1650 2800 30  0000 C CNN
	1    1600 2750
	0    1    1    0   
$EndComp
$Comp
L eSim_C C2
U 1 1 6341118F
P 1650 3700
F 0 "C2" H 1675 3800 50  0000 L CNN
F 1 "10u" H 1675 3600 50  0000 L CNN
F 2 "" H 1688 3550 30  0000 C CNN
F 3 "" H 1650 3700 60  0000 C CNN
	1    1650 3700
	-1   0    0    1   
$EndComp
$Comp
L eSim_NPN Q1
U 1 1 63411224
P 3850 5200
F 0 "Q1" H 3750 5250 50  0000 R CNN
F 1 "eSim_NPN" H 3800 5350 50  0000 R CNN
F 2 "" H 4050 5300 29  0000 C CNN
F 3 "" H 3850 5200 60  0000 C CNN
	1    3850 5200
	-1   0    0    -1  
$EndComp
$Comp
L eSim_C C1
U 1 1 634112B7
P 2350 2600
F 0 "C1" H 2375 2700 50  0000 L CNN
F 1 "0.01u" H 2375 2500 50  0000 L CNN
F 2 "" H 2388 2450 30  0000 C CNN
F 3 "" H 2350 2600 60  0000 C CNN
	1    2350 2600
	1    0    0    -1  
$EndComp
$Comp
L DC v1
U 1 1 63411E32
P 900 2500
F 0 "v1" H 700 2600 60  0000 C CNN
F 1 "5" H 700 2450 60  0000 C CNN
F 2 "R1" H 600 2500 60  0000 C CNN
F 3 "" H 900 2500 60  0000 C CNN
	1    900  2500
	1    0    0    -1  
$EndComp
$Comp
L DC v5
U 1 1 63411EF5
P 6150 1450
F 0 "v5" H 5950 1550 60  0000 C CNN
F 1 "1" H 5950 1400 60  0000 C CNN
F 2 "R1" H 5850 1450 60  0000 C CNN
F 3 "" H 6150 1450 60  0000 C CNN
	1    6150 1450
	1    0    0    -1  
$EndComp
$Comp
L DC v4
U 1 1 63411FD2
P 6050 4250
F 0 "v4" H 5850 4350 60  0000 C CNN
F 1 "1" H 5850 4200 60  0000 C CNN
F 2 "R1" H 5750 4250 60  0000 C CNN
F 3 "" H 6050 4250 60  0000 C CNN
	1    6050 4250
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR01
U 1 1 634121A1
P 3750 5500
F 0 "#PWR01" H 3750 5250 50  0001 C CNN
F 1 "GND" H 3750 5350 50  0000 C CNN
F 2 "" H 3750 5500 50  0001 C CNN
F 3 "" H 3750 5500 50  0001 C CNN
	1    3750 5500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR02
U 1 1 63412211
P 900 3400
F 0 "#PWR02" H 900 3150 50  0001 C CNN
F 1 "GND" H 900 3250 50  0000 C CNN
F 2 "" H 900 3400 50  0001 C CNN
F 3 "" H 900 3400 50  0001 C CNN
	1    900  3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 63412273
P 3150 4300
F 0 "#PWR03" H 3150 4050 50  0001 C CNN
F 1 "GND" H 3150 4150 50  0000 C CNN
F 2 "" H 3150 4300 50  0001 C CNN
F 3 "" H 3150 4300 50  0001 C CNN
	1    3150 4300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR04
U 1 1 63413943
P 2350 2950
F 0 "#PWR04" H 2350 2700 50  0001 C CNN
F 1 "GND" H 2350 2800 50  0000 C CNN
F 2 "" H 2350 2950 50  0001 C CNN
F 3 "" H 2350 2950 50  0001 C CNN
	1    2350 2950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 63413E7B
P 4850 2600
F 0 "#PWR05" H 4850 2350 50  0001 C CNN
F 1 "GND" H 4850 2450 50  0000 C CNN
F 2 "" H 4850 2600 50  0001 C CNN
F 3 "" H 4850 2600 50  0001 C CNN
	1    4850 2600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 63413EC7
P 4850 3800
F 0 "#PWR06" H 4850 3550 50  0001 C CNN
F 1 "GND" H 4850 3650 50  0000 C CNN
F 2 "" H 4850 3800 50  0001 C CNN
F 3 "" H 4850 3800 50  0001 C CNN
	1    4850 3800
	1    0    0    -1  
$EndComp
$Comp
L pulse v6
U 1 1 63416053
P 6500 3650
F 0 "v6" H 6300 3750 60  0000 C CNN
F 1 "pulse" H 6300 3600 60  0000 C CNN
F 2 "R1" H 6200 3650 60  0000 C CNN
F 3 "" H 6500 3650 60  0000 C CNN
	1    6500 3650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR07
U 1 1 634160DC
P 6500 4100
F 0 "#PWR07" H 6500 3850 50  0001 C CNN
F 1 "GND" H 6500 3950 50  0000 C CNN
F 2 "" H 6500 4100 50  0001 C CNN
F 3 "" H 6500 4100 50  0001 C CNN
	1    6500 4100
	1    0    0    -1  
$EndComp
$Comp
L plot_v1 U6
U 1 1 63419302
P 10900 2450
F 0 "U6" H 10900 2950 60  0000 C CNN
F 1 "plot_v1" H 11100 2800 60  0000 C CNN
F 2 "" H 10900 2450 60  0000 C CNN
F 3 "" H 10900 2450 60  0000 C CNN
	1    10900 2450
	1    0    0    -1  
$EndComp
$Comp
L plot_v1 U7
U 1 1 63419395
P 11100 2800
F 0 "U7" H 11100 3300 60  0000 C CNN
F 1 "plot_v1" H 11300 3150 60  0000 C CNN
F 2 "" H 11100 2800 60  0000 C CNN
F 3 "" H 11100 2800 60  0000 C CNN
	1    11100 2800
	1    0    0    -1  
$EndComp
$Comp
L tanya_srff U3
U 1 1 6341CD27
P 4750 4500
F 0 "U3" H 7600 6300 60  0000 C CNN
F 1 "tanya_srff" H 7600 6500 60  0000 C CNN
F 2 "" H 7600 6450 60  0000 C CNN
F 3 "" H 7600 6450 60  0000 C CNN
	1    4750 4500
	1    0    0    -1  
$EndComp
$Comp
L adc_bridge_3 U2
U 1 1 6341CEC0
P 6350 2650
F 0 "U2" H 6350 2650 60  0000 C CNN
F 1 "adc_bridge_3" H 6350 2800 60  0000 C CNN
F 2 "" H 6350 2650 60  0000 C CNN
F 3 "" H 6350 2650 60  0000 C CNN
	1    6350 2650
	1    0    0    -1  
$EndComp
$Comp
L dac_bridge_1 U1
U 1 1 6341CF55
P 5000 5250
F 0 "U1" H 5000 5250 60  0000 C CNN
F 1 "dac_bridge_1" H 5000 5400 60  0000 C CNN
F 2 "" H 5000 5250 60  0000 C CNN
F 3 "" H 5000 5250 60  0000 C CNN
	1    5000 5250
	-1   0    0    -1  
$EndComp
Text GLabel 10900 2300 0    60   Input ~ 0
output1
Text GLabel 11100 2650 0    60   Input ~ 0
output0
$Comp
L PWR_FLAG #FLG08
U 1 1 63421735
P 5550 2450
F 0 "#FLG08" H 5550 2525 50  0001 C CNN
F 1 "PWR_FLAG" H 5550 2600 50  0000 C CNN
F 2 "" H 5550 2450 50  0001 C CNN
F 3 "" H 5550 2450 50  0001 C CNN
	1    5550 2450
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG09
U 1 1 63421773
P 5400 3150
F 0 "#FLG09" H 5400 3225 50  0001 C CNN
F 1 "PWR_FLAG" H 5400 3300 50  0000 C CNN
F 2 "" H 5400 3150 50  0001 C CNN
F 3 "" H 5400 3150 50  0001 C CNN
	1    5400 3150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR010
U 1 1 634121D9
P 6050 4850
F 0 "#PWR010" H 6050 4600 50  0001 C CNN
F 1 "GND" H 6050 4700 50  0000 C CNN
F 2 "" H 6050 4850 50  0001 C CNN
F 3 "" H 6050 4850 50  0001 C CNN
	1    6050 4850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 634138D5
P 6150 2050
F 0 "#PWR011" H 6150 1800 50  0001 C CNN
F 1 "GND" H 6150 1900 50  0000 C CNN
F 2 "" H 6150 2050 50  0001 C CNN
F 3 "" H 6150 2050 50  0001 C CNN
	1    6150 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 1900 6150 2050
Wire Wire Line
	900  1150 900  2050
Wire Wire Line
	900  2950 900  3400
Connection ~ 5400 3300
Wire Wire Line
	5400 3150 5400 3300
Connection ~ 5550 2700
Wire Wire Line
	5550 2450 5550 2700
Wire Wire Line
	5750 3200 6500 3200
Wire Wire Line
	5750 2800 5750 3200
Wire Wire Line
	5300 2700 5750 2700
Wire Wire Line
	5300 2100 5300 2700
Wire Wire Line
	5700 2600 5750 2600
Wire Wire Line
	5700 3300 5700 2600
Wire Wire Line
	5300 3300 5700 3300
Wire Wire Line
	8300 5200 5600 5200
Wire Wire Line
	8300 2700 8300 5200
Wire Wire Line
	6900 3100 6900 2800
Wire Wire Line
	8450 3100 6900 3100
Wire Wire Line
	8450 2700 8450 3100
Wire Wire Line
	8300 2600 8450 2600
Wire Wire Line
	11100 2700 10850 2700
Wire Wire Line
	11100 2600 11100 2700
Wire Wire Line
	10900 2600 10850 2600
Wire Wire Line
	10900 2250 10900 2600
Wire Wire Line
	2350 2250 2350 2450
Wire Wire Line
	2350 2750 2350 2950
Wire Wire Line
	3150 1850 3150 2650
Wire Wire Line
	3150 1150 900  1150
Wire Wire Line
	3150 1550 3150 1150
Wire Wire Line
	3150 2950 3150 3600
Wire Wire Line
	1650 1850 1650 2650
Wire Wire Line
	1650 2950 1650 3550
Wire Wire Line
	1650 1550 1650 1150
Connection ~ 1650 1150
Wire Wire Line
	3150 3900 3150 4300
Wire Wire Line
	1650 3850 1650 4150
Wire Wire Line
	1650 4150 3150 4150
Connection ~ 3150 4150
Wire Wire Line
	3750 5400 3750 5500
Wire Wire Line
	4050 5200 4450 5200
Wire Wire Line
	3750 5000 3750 4800
Wire Wire Line
	3750 4800 1300 4800
Wire Wire Line
	1300 4800 1300 2500
Wire Wire Line
	1300 2500 1650 2500
Connection ~ 1650 2500
Wire Wire Line
	1650 3250 3650 3250
Wire Wire Line
	3650 2050 3650 3450
Wire Wire Line
	3650 3450 4000 3450
Connection ~ 1650 3250
Wire Wire Line
	4000 2050 3650 2050
Connection ~ 3650 3250
Wire Wire Line
	2350 2250 4000 2250
Connection ~ 3150 2250
Wire Wire Line
	4000 3250 3800 3250
Wire Wire Line
	3800 3250 3800 3150
Wire Wire Line
	3800 3150 3150 3150
Connection ~ 3150 3150
Wire Wire Line
	6050 4700 6050 4850
Wire Wire Line
	4600 2600 4600 2800
Wire Wire Line
	4600 2800 5600 2800
Wire Wire Line
	5600 2800 5600 4050
Wire Wire Line
	5600 4050 4600 4050
Wire Wire Line
	4600 4050 4600 3800
Wire Wire Line
	6050 3800 6050 3700
Wire Wire Line
	6050 3700 5600 3700
Connection ~ 5600 3700
Wire Wire Line
	4600 1700 4600 800 
Wire Wire Line
	4600 800  6150 800 
Wire Wire Line
	6150 800  6150 1000
Wire Wire Line
	4600 2900 5400 2900
Wire Wire Line
	5400 2900 5400 800 
Connection ~ 5400 800 
$Comp
L SKY130mode scmode?
U 1 1 63422C8E
P 9350 4050
F 0 "scmode?" H 9350 4200 98  0000 C CNB
F 1 "SKY130mode" H 9350 3950 118 0000 C CNB
F 2 "" H 9350 4200 60  0001 C CNN
F 3 "" H 9350 4200 60  0001 C CNN
	1    9350 4050
	1    0    0    -1  
$EndComp
$EndSCHEMATC
